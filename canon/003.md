\title{
A Polynomial Construction of Nerves for Higher Categories
}

\author{
Brandon T. Shapiro $\quad$ David I. Spivak
}

\begin{abstract}
We show that the construction due to Leinster and Weber of a generalized Lawvere theory for a familially representable monad on a (co)presheaf category, and the associated "nerve" functor from monad algebras to (co)presheaves, have an elegant categorical description in the double category $\mathrm{Cat}^{\sharp}$ of categories, cofunctors, familial functors, and transformations. In Cat ${ }^{\sharp}$, which also arises from comonoids in the category of polynomial functors, both a familial monad and a (co)presheaf it acts on can be modeled as horizontal morphisms; from this perspective, the theory category associated to the monad is built using left Kan extension in the category of endomorphisms, and the nerve functor is modeled by a single composition of horizontal morphisms in Cat ${ }^{\sharp}$. For the free category monad path on graphs, this provides a new construction of the simplex category as $\Delta:=\left[\begin{array}{c}\text { pathopath } \\ \text { path }\end{array}\right]$. We also explore the free Eilenberg-Moore completion of $\mathrm{Cat}^{\sharp}$, in which constructions such as the free symmetric monoidal category monad on Cat can modeled using the rich language of polynomial functors.
\end{abstract}

\section*{Contents}

1 Introduction 1

2 The Double Category Cat ${ }^{\#} 4$

3 Familial monads 10

4 Theories and Nerves in $\mathrm{Cat}^{\sharp} \quad 16$

5 Algebraic familial monads 20

References 28

\section*{1 Introduction}

One of the main features of categorical algebra is its ability to exhibit often quite complicated algebraic structures in a multitude of different forms, giving us the choice of which form is most elegant or convenient for any given purpose. So successful is this project that most algebraic structures can be modeled in forms that are barely recognizable as "algebraic" at all, instead taking on a more topological or combinatorial flavor which can be quite useful for intuition, proofs, and computation.

Lawvere in his thesis [Law04] introduced the notion of representing an algebraic theory as a category generated by a single object under finite products (now called a Lawvere theory). For a finitary monad on the category of sets there is a corresponding Lawvere theory given by the opposite of a skeleton of the category of finitely generated free algebras, and an equivalence between algebras of the monad and product preserving functors from the Lawvere theory to Set. Such functors to Set, which we henceforth call copresheaves on the Lawvere theory, can be interpreted as a combinatorial expression of the data of an algebra for the monad.

Categories have also long been studied as combinatorial objects using the fully faithful nerve functor from Cat to the category of simplicial sets, namely contravariant functors from the simplex category $\Delta$ to Set (presheaves), sending a category to its sets of length- $n$ sequences of adjacent morphisms equipped with functions for restricting, composing, and inserting identities into these sequences to change their length. This construction also has a topological interpretation, where a sequence of $n$ adjacent morphisms in a category along with the composites of all of its sub-sequences can be regarded as a topological $n$-simplex. Nerve functors have also been defined for various forms of higher categories such as $n-$ cellular nerves of $n$-categories [Ber02] and dendroidal nerves of multicategories [MW07], and are widely used to study higher dimensional algebraic objects using homotopy theory.

Leinster [Lei08] and Weber [Web07] unified many of these constructions ${ }^{1}$ by defining for any familial monad $m$ on a (co)presheaf category a theory category $\Theta_{m}$ and a fully faithful nerve functor from $m$-algebras to presheaves on $\Theta_{m}$. Familial monads are cartesian monads whose algebras are (co)presheaves equipped with operations for composing any diagram of a fixed shape (arity) into a single cell (see for instance [Lei04, Appendix C]), and include all polynomial monads on Set, the free category monad on graphs, and monads whose algebras correspond to several different types of higher categories. In Example 3.6 we describe a familial monad on graphs whose algebras are symmetric monoidal categories.

The theory category $\Theta_{m}$ is defined as the full subcategory of $m$-algebras spanned by the free algebras on the arity diagrams, and the nerve functor is given by the restricted Yoneda embedding which identifies for each arity the set of such diagrams in an $m$-algebra. For the free category monad, the arities are the graphs $\vec{n}$ consisting of $n+1$ vertices and $n$ adjacent edges forming a directed path. The theory category is then the full subcategory of Cat spanned by the free categories on these graphs, which are the nonempty finite ordinal categories $[n]$ that form the objects of the simplex category.

This construction of theories and nerves, producing for a broad class of widely-studied algebraic structures a single choice of combinatorial representation, endows its outputs with an air of canonicity. Embeddings of the same structures into categories of combinatorial objects with desireable properties can be alternatively achieved, such as by cubical nerves of categories, simplicial or $n$-simplicial nerves of $n$-categories, and truncated versions thereof. The choices of Lawvere theories of finitary polynomial monads, simplicial nerves of categories, cellular nerves of $n$-categories, and dendroidal nerves of multicategories, among others, are elevated in the categorical landscape by their association to the corresponding monads via this general construction. In other words (of Leinster in
\footnotetext{
${ }^{1}$ including those for (higher) categories and polynomial (but not all finitary) monads on Set. Further generalizations were later given in [BMW12; BG19].
}

[Lei08]), it answers the question of "Why is the definition [of the nerve] exactly that, not something slightly different?"

The purpose of this paper is to address the same question for Leinster and Weber's construction itself: in what sense is it canonical, and not easily replaced by something else? Is there a way of associating to a familial monad its theory category and nerve functor in a manner that is significant in the language of category theory?

The answer we give lies in the formal category theory inside the double category Cat ${ }^{\sharp}$, whose objects are small categories, vertical morphisms are cofunctors, and horizontal morphisms $c \triangleleft \triangleleft d$ are given by the data underlying familial functors from the category of copresheaves on $d$ to that of copresheaves on $c$. This double category has rich categorical structure such as left Kan extensions, arising from its equivalent construction (see Section 2) as the double category of comonoids in the monoidal category Poly of polynomial endofunctors on Set under composition, and familial monads arise as formal monads in Cat $^{\sharp}$ (in the sense of [Str72] and [BÃ©n+67, Definition 5.4.1]). We can also model an algebra of a familial monad $m$ on $c$-copresheaves as a horizontal morphism $c \triangleleft \triangleleft 0$ from the empty category, where 0 -copresheaves form the terminal category, equipped with a left $m$-action in Cat $^{\#}$.

Theorem (Corollaries 4.2 and 4.5 and Theorem 4.4). For c a small category and $m$ a familial monad on c-copresheaves, the theory category $\Theta_{m}$ is dual to the category $\left[\begin{array}{c}\text { mom } \\ m\end{array}\right]$ built in a canonical way (Lemma 2.12) from the left Kan extension of the underlying familial functor $m$ along the composite $m \circ m$.

For $m(X) \rightarrow X$ an $m$-algebra, its nerve has the same underlying set of elements as $m(X)$ and the $\Theta_{m}$-presheaf structure on that set is determined in a canonical way (Lemma 2.13) from a coalgebra structure on $m(X)$ built out of the algebra structure map of $X$ and the universal transformation associated to the left Kan extension $\left[\begin{array}{c}m \circ m \\ m\end{array}\right]$ as in (1).

![](https://cdn.mathpix.com/cropped/2024_05_24_c3a33cfdeced928aa2f8g-03.jpg?height=189&width=637&top_left_y=1662&top_left_x=733)

These results demonstrate that the construction of theory categories is endowed with a universal property (Corollary 4.2) and provides yet another piece of evidence for Mac Lane's slogan that "all concepts are Kan extensions." Moreover, using this description of $\Theta_{m}$ the nerve of an $m$-algebra $X$ admits (via the formal categorical result in Lemma 2.13) the simple formal construction of (1) that could apply in any double category of comonoids with left Kan extensions.

This formulation makes extensive use of the monoidal category Poly, particularly in the constructions of left Kan extensions (which arise from the right monoidal coclosure in Poly) and the category associated to a familial comonad such as $\left[\begin{array}{c}m \circ m \\ m\end{array}\right]$ in Lemma 2.12. It also adds nerves of higher categories to the fast-growing repertoire of pure and applied mathematics which can be elegantly modeled using the category of polynomial functors, such as database theory [Spi21], open dynamical systems [SS22], and double categorical copresheaves [S23, Example 5.20].

We conclude with a discussion of the free completion under Eilenberg-Moore objects [LS02] of the underlying bicategory of $\mathbb{C a t}^{\#}$. The resulting bicategory has familial monads as objects, morphisms which correspond to a generalization of familial functors to categories of algebras, and 2-cells corresponding to all natural transformations between such functors. Algebras for formal monads in this bicategory, such as the free symmetric monoidal category monad on Cat in Example 5.9, are famlial monad algebras with additional operations, and by formal results of Lack and Street in [LS02] these enhanced structures are always algebras for a "composite" ordinary familial monad (see Example 5.11).

\section*{Notation}

The symbol $\sum$ denotes an indexed coproduct, the symbol + denotes binary coproduct, and 0 denotes an initial object.

For $c$ a category, we write $c$-Set for the category of copresheaves on $c$, meaning functors $c \rightarrow$ Set. For $X$ a $c$-copresheaf and $C \in c(1)$ an object, we write $X_{C}$ for $X(C) \in$ Set.

\section*{Acknowledgments}

This material is based upon work supported by the Air Force Office of Scientific Research under award number FA9550-20-1-0348. We also appreciate the comments of our ACT2023 conference reviewers, in particular Reviewer uG3q.

\section*{2 The Double Category Cat $^{\#}$}

We begin by recalling the construction of the double category Cat $^{\sharp}$ using polynomial functors, then prove some structural results that will facilitate the description of higher categorical nerves in Cat ${ }^{\#}$.

\subsection*{2.1 The category of polynomials}

In the theory of polynomial functors, endofunctors Set $\rightarrow$ Set which arise as coproducts of representables are often considered purely in terms of the combinatorial data of their representing sets, which formally resemble the exponents of a classical polynomial.

Definition 2.1. A polynomial $p$ consists of a set $p(1)$ along with, for each element $I \in p(1)$, a set $p[I]$. We write

$$
p=\sum_{I \in p(1)} y^{p[I]}
$$

for such a polynomial. A morphism $\phi$ of polynomials $p \rightarrow q$ is a natural transformation. It can be cast set-theoretically as consisting of a function $\phi_{1}: p(1) \rightarrow q(1)$ along with, for each $I \in p(1)$, a function $\phi_{I}^{\#}: p[I] \leftarrow q\left[\phi_{1} I\right]$. We write Poly for the category of polynomials. $\diamond$

Elements of the set $p(1)$ are called positions of $p$, and for each $I \in p(1)$, elements of $p[I]$ are called directions. A morphism $\phi$ is called cartesian if each $\phi_{I}^{\#}$ is a bijection, and vertical if $\phi_{1}$ is a bijection.

Definition 2.2 ([Spi21, Proposition 2.1.7]). We denote by $y$ the polynomial with a single position and a single direction. For polynomials $p, q$, their composition is the polynomial

$$
p \triangleleft q:=\sum_{\substack{I \in p(1) \\ J: p[I] \rightarrow(1)}} y^{\sum_{i \in[I]} q[i]}
$$

There is a monoidal structure on the category Poly given by $(y, 4)$.

\subsection*{2.2 Comonoids and bicomodules}

Definition 2.3. A comonoid in Poly is a polynomial $c$ equipped with morphisms $\epsilon: c \rightarrow$ $y$ (the counit) and $\delta: c \rightarrow c \triangleleft c$ (the comultiplication) satisfying unit and associativity equations. A comonoid homomorphism is a morphism of polynomials $c \rightarrow c^{\prime}$ which commutes with counits and comultiplications.

Definition 2.4. For comonoids $c, d$ in Poly, a $(c, d)$-bicomodule is a polynomial $p$, called the carrier, equipped with morphisms

$$
c \triangleleft p \stackrel{\lambda}{\leftarrow} \stackrel{\rho}{\rightarrow} p \triangleleft d
$$

which commute with each other as well as the counits and comultiplications of $c$ and $d$, in the sense of [Spi21, Definition 2.2.11]. We will often denote a $(c, d)$-bicomodule $p$ as $c \triangleleft \frac{p}{} \triangleleft d$.

In [Spi21, Corollary 2.2.10], the author established using a theorem of Shulman [Shu08, Theorem 11.5] that there is a double category Comod(Poly) whose objects are comonoids and horizontal morphisms are bicomodules.

Definition 2.5. Cat $^{\#}$ is the pseudo-double category $\mathbb{C o m o d}($ Poly) which has
- as objects, the comonoids in Poly;
- as vertical morphisms, the comonoid homomorphisms;
- as horizontal morphisms from $c$ to $d$, the $(c, d)$-bicomodules;
- as squares between homomorphisms $\phi, \psi$ and bicomodules $p, p^{\prime}$, the morphisms of polynomials $\gamma: p \rightarrow p^{\prime}$ such that the diagram in (2) commutes;

![](https://cdn.mathpix.com/cropped/2024_05_24_c3a33cfdeced928aa2f8g-05.jpg?height=190&width=523&top_left_y=2011&top_left_x=842)
- as horizontal identities, the comultiplication bicomodules $c \triangleleft c \stackrel{\delta}{\leftarrow} c \stackrel{\delta}{\rightarrow} c \triangleleft c$; and
- as composition of horizontal morphisms $c \stackrel{p}{ } \triangleleft d \varangle \frac{q}{\hookrightarrow} \triangleleft e$, the bicomodule $p \triangleleft_{d} q$ on the top row of (3),

![](https://cdn.mathpix.com/cropped/2024_05_24_c3a33cfdeced928aa2f8g-06.jpg?height=326&width=786&top_left_y=390&top_left_x=713)

where each object in the top row of (3) is computed as the equalizer of the column below it, using the fact that the functors $c \triangleleft-$ and $-\triangleleft e$ preserve connected limits, and the maps between them are induced by the underlying transformations between equalizer diagrams. This also shows how to horizontally compose squares, as a pair of adjacent squares provides the data of a transformation of equalizer diagrams which induces a map between the composite bicomodules.

\subsection*{2.3 Categories, cofunctors, and familial functors}

The motivation for usng Cat ${ }^{\#}$ in this setting comes from recent results of Ahman-Uustalu [ACU14] and Garner ${ }^{2}$ that, respectively, comonoids in Poly can be interpreted as categories and that bicomodules between them correspond to familial functors between their associated copresheaf categories.

Definition 2.6. For a polynomial comonoid ( $c, \epsilon, \delta$ ), its corresponding (small) category has
- as objects, elements of the set $c(1)$;
- as morphisms out of an object $C \in c(1)$, the set $c[C]$;
- as codomain assignment for morphisms out of $C$, the function $\delta_{1}(c): c[C] \rightarrow c(1)$;
- as composition of morphisms out of $C$, the function $\delta_{C}^{\sharp}: c[C] \times_{c(1)} c_{*}(1) \rightarrow c[C]$; and
- as the identity morphism at $C$, the function $\epsilon_{C}^{\#}: 1 \rightarrow c[C]$.

Conversely, given a small category $C$, for any object $C \in \mathrm{Ob}(C)$, let $C[C]:=\sum_{C^{\prime} \in \operatorname{Ob}(C)} \mathcal{C}\left(C, C^{\prime}\right)$ denote the set of all morphisms with source $C$. The polynomial comonad corresponding

![](https://cdn.mathpix.com/cropped/2024_05_24_c3a33cfdeced928aa2f8g-06.jpg?height=62&width=1515&top_left_y=1888&top_left_x=305)
a choice of morphism out of each object, which we take to be the identity. The comultiplication map $\delta: c \rightarrow c \triangleleft c$ consists of the data of codomains and composition (see the proof of $[S S 23$, Theorem 5.6]).

Comonoids in Poly therefore correspond to small categories, though for convenience we will often refer to them as simply categories. However, homomorphisms of comonoids do not correspond to functors between categories.

Definition 2.7. For categories $c$ and $d$, a cofunctor $c \rightarrow d$ consists of a function from the objects of $c$ to those of $d$, along with a lift of every morphism out of an object $D$ in $d$ to a morphism out of every object in $c$ sent to $D$. These liftings must respect codomains, identities, and composites in $c$ and $d$.
\footnotetext{
${ }^{2}$ The proof was originally sketched in Garner's HoTTEST video; see also [Spi21, Section 2.3].
}

When $c$ and $d$ are regarded as polynomial comonoids, a cofunctor consists of a function $\phi_{1}: c(1) \rightarrow d(1)$ along with, for each $C \in c(1)$, a function $c[C] \leftarrow d\left[\phi_{1} C\right]$; precisely a morphism of polynomials $\phi: c \rightarrow d$. Preservation of identities, codomains, and composites from the definition of a cofunctor corresponds to the morphism of polynomials preserving counit and comultiplication (see $[S S 23$, Corollary 5.12]).

Definition 2.8. A familially representable functor $F: d$-Set $\rightarrow c$-Set (henceforth called simply a familial functor) is a functor of the form, for any $d$-copresheaf $X$ and object $C \in c(1)$,

$$
F(X)_{C} \cong \sum_{I \in p_{C}(1)} \operatorname{Hom}_{d-\operatorname{Set}}(p[I], X)
$$

where $p_{(-)}(1)$ is a functor $c \rightarrow$ Set (which we will denote by simply $p(1)$ ), $p_{C}(1)$ is its evaluation at $C$, and $p[-]$ is a functor $\left(\int p(1)\right)^{\text {op }} \rightarrow d$-Set from the dual of the category of elements of $p(1)$.

When $p$ is a $(c, d)$-bicomodule and $C \in c(1)$, we have $p(1) \cong \sum_{C \in c(1)} p_{C}(1)$, and we recover $p_{C}(1)$ as the preimage of $C$ under the function $p(1) \xrightarrow{\lambda(1)}(c \triangleleft p)(1) \xrightarrow{c \triangleleft!} c(1)$. Moreover, for $I \in p_{C}(1)$ and $D \in d(1)$, the set $p[I]_{D}$ is the preimage of $D$ under the function $p[I] \rightarrow d(1)$ given by the element $1 \xrightarrow{I} p(1) \xrightarrow{\rho(1)}(p \triangleleft d)(1)$.

Based on this interpretation, we will denote a $(c, d)$-bicomodule $p$ as

$$
\sum_{C \in c(1)} \sum_{I \in p_{C}(1)} y^{p[I]}
$$

where $p[I]$ has the structure of a $d$-copresheaf. The elements $I \in p_{C}(1)$ will be called operations and the copresheaves $p[I]$ will be called arities.

Example 2.9 (Copresheaves as bicomodules). For $c$ any category, a ( $c, 0$ )-bicomodule $p$ is a familial functor from 0-Set, the terminal category, to $c$-Set. The particular copresheaf on $c$ this functor picks out is $p(1)$, whose elements are positions of $p$ and whose $c$-copresheaf structure is determined by the map $c \triangleleft p \stackrel{\lambda}{\leftarrow} p$. As there is also a map $p \rightarrow p \triangleleft 0$ which preserves the positions of $p$, and forces the polynomial $p$ to have an empty set of directions. The category of ( $c, 0)$-bicomodules and maps between them as in (2) with $\phi, \psi$ identities is equivalent to the category $c$-Set.

The composition of a $(c, d)$-bicomodule and a $(d, 0)$-bicomodule is precisely the $c$ copresheaf given by applying the familial functor $d$-Set $\rightarrow c$-Set to a $d$-copresheaf.

Example 2.10 (Identity bicomodules). The identity bicomodule $c \triangleleft c \triangleleft c$ has the form $\sum_{C \in c(1)} y^{c[C]}$, so it has a single operation for each object of $c$ with arity the corepresentable copresheaf $c[C]$.

Example 2.11 (Composite bicomodules). For a $(c, d)$-bicomodule $p$ and a ( $d, e$ )-bicomodule $q$ of the forms

$$
p=\sum_{C \in c(1)} \sum_{I \in p_{C}(1)} y^{p[[]} \quad \text { and } \quad q=\sum_{D \in d(1)} \sum_{J \in q_{D}(1)} y^{q[J]}
$$
their composite $(c, e)$-bicomodule has the form

$$
p \triangleleft_{d} q=\sum_{C \in c(1)} \sum_{\substack{I \in p c(1) \\ J: p[1] \rightarrow q(1)}} y^{\operatorname{colim}_{i \in p[[]} q[i]}
$$

where the colimit in the directions is indexed by the category of elements of the $d$-copresheaf $p[I]$ (see [GH18, Propositions 3.11, 3.12], [Sha22, Proposition 1.8]).

\subsection*{2.4 Comonads and comodules}

Both the construction of the theory category of a monad and the corresponding nerve functor from algebras of the monad to models of the theory can be constructed using general categorical constructions in $\mathbb{C a t}^{\sharp}$, which we now describe.

Recall that $\mathbb{C a t}{ }^{\sharp}$ is defined as $\mathbb{C o m o d}($ Poly), where each object is a comonoid in Poly and each horizontal morphism is a bicomodule. A general fact about the Comod construction shows that a horizontal comonad in $\mathbb{C o m o d}($ Poly) can in fact be equivalently treated as an ordinary comonoid in Poly via its carrier polynomial.

Lemma 2.12 (Dual to [CS10, Remark 5.15]). For c a polynomial comonoid, given a (c,c)bicomodule e with the structure of a $\left(c, \triangleleft_{c}\right)$-comonoid, the carrier polynomial e forms a polynomial comonoid equipped with a homomorphism to $c$ which acts on positions by sending the elements of $e_{C}(1)$ to $C \in c(1)$.

In fact, this correspondence between comonads on $c$ in $\mathrm{Cat}^{\#}$ and vertical morphisms into $c$ extends to relate comodules of a comonad to bicomodules into the corresponding comonoid.

Lemma 2.13. For a comonad e on an object $c$ of $\mathbb{C a t}^{\sharp}$ and $d$ another object of $\mathbb{C} \mathbf{t}^{\sharp}$, there is a carrierpreserving equivalence between $(e, d)$-bicomodules and $(c, d)$-bicomodules with the structure of a left e-comodule.

In particular, when $d=0$ this means that if $X$ is a copresheaf on $c$ equipped with a coalgebra structure $X \rightarrow e(X)$ then there is a corresponding copresheaf on $e$ with the same set of elements, with each element of $X_{C}$ assigned an object in $e(1)$ by the function $X \rightarrow e \triangleleft_{c} X \rightarrow e \triangleleft_{c} 1=e(1)$ which is sent to $C$ by the function $e(1) \rightarrow c(1)$.

Proof. Given a $(c, d)$-bicomodule $p$, the structure of a left $e$-comodule amounts to a morphism of polynomials $p \rightarrow e \triangleleft_{c} p$, which by the definition of bicomodule composition induces a morphism $p \rightarrow e \triangleleft p$, where the left $e$-comodule equations in Cat ${ }^{\#}$ imply the left $e$-comodule equations in Poly. Similarly, as $p \rightarrow e \triangleleft_{c} p$ is a morphism of $(c, d)$-bicomodules, this $e$-coaction on $p$ in Poly is compatible with the right $d$-coaction on $p$, so that $p$ has the structure of a $(e, d)$-bicomodule.

By Lemma 2.12, e has a homomorphism to $c$, and as such there is a square in $\mathrm{Cat}^{\sharp}$ as on the left in (4) from $e$ as the identity $(e, e)$-bicomodule to $e$ as a ( $c, c)$-bicomodule given by the identity morphism on $e$. The $(e, d)$-bicomodule structure on $p$ induces a $(c, d)$-bicomodule structure where the left coaction is given by the composite $c \triangleleft p \leftarrow e \triangleleft p \leftarrow p$ and the $(c, d)$-bicomodule equations are guaranteed from the $(e, d)$-bicomodule equations as the
map $c \leftarrow e$ is a comonoid homomorphism. The identity morphism on $p$ therefore provides a morphism of bicomodules as on the left in (4).

![](https://cdn.mathpix.com/cropped/2024_05_24_c3a33cfdeced928aa2f8g-09.jpg?height=203&width=336&top_left_y=381&top_left_x=886)

Note that both of these squares are cocartesian fillers (in the sense of equipments, see [Spi21, Lemma 2.3.13] and [Shu08]) of their respective vertical arrows and source horizontal arrows. This means that the cocartesian filler of the outer frame of the composite agrees with the square on the right, so by the universal property of cocartesian fillers the composite square induces a morphism of $(c, d)$-bicomodules from $p$ to $e \triangleleft_{c} p$, providing the coaction of a left $e$-comodule structure on $e$ in $\mathbb{C a t}^{\#}$. The comodule equations are then straightforward to deduce from the left $e$-comodule structure of $p$ in Poly and cofunctoriality of $e$ over c.

\subsection*{2.5 Right coclosure (left Kan extension)}

We now recall the main structure in Cat $^{\sharp}$ which will allow us to model theories and nerves, the right coclosure (also known as left Kan extension).

Definition 2.14 ([Spi21, Proposition 2.4.6]). For a $(d, e)$-bicomodule $q$, the functor $-\triangleleft_{d} q$ from $(c, d)$-bicomodules to $(c, e)$-bicomodules has a left adjoint $\left[\begin{array}{l}q \\ -\end{array}\right]$. For a $(c, e)$-bicomodule $p$ its carrier is defined to be

$$
\left[\begin{array}{l}
q \\
p
\end{array}\right]:=\sum_{C \in c(1)} \sum_{I \in p_{C}(1)} y^{q_{q_{e}} p[I]},
$$

where $p[I]$ is regarded as an $(e, 0)$-bicomodule.

We note the unit and counit of this adjunction for convenience:

$$
p \rightarrow\left[\begin{array}{l}
q \\
p
\end{array}\right] \triangleleft q \quad \text { and } \quad\left[\begin{array}{c}
q \\
r \triangleleft q
\end{array}\right] \rightarrow r
$$

The former illustrates how the right coclosure from (5) corresponds to the left Kan extension, equivalently in $\mathbb{C} \mathbf{a t}^{\#}$ and the bicategory of copresheaf categories and familial functors.
![](https://cdn.mathpix.com/cropped/2024_05_24_c3a33cfdeced928aa2f8g-09.jpg?height=194&width=830&top_left_y=2036&top_left_x=644)

We will be particularly interested in the case of right coclosures with the structure of a comonad.

Lemma 2.15. For $m$ a monad on $c$ in Cat $^{\sharp}$ and $p$ any (d,c)-bicomodule, the left Kan extension $\left[\begin{array}{c}p s_{c} m \\ p\end{array}\right]$ is a comonad on $d$.

Proof. In the interest of space we construct only the counit and comultiplication transformations, but as they are derived directly from the unit and multiplication transformations of the monad $m$ it is straightforward to check that their counitality and coassociativity follow directly from unitality and associativity for $m$, respectively.

The strategy here is to use the universal property of the coclosure that morphisms of $(d, d)$-bicomodules from $\left[\begin{array}{c}p p_{c} m \\ p\end{array}\right]$ to $q$ are in bijective correspondence with morphisms from $p$ to $q \triangleleft_{d} p \triangleleft_{c} m$. The counit transformation $\left[\begin{array}{c}p \triangleleft_{c} m \\ p\end{array}\right] \rightarrow d$ then corresponds to the transformation $p \rightarrow p \triangleleft_{c} m \cong d \triangleleft_{d} p \triangleleft_{c} m$ given by the unit of $m$.

Similarly, the comultiplication $\left[\begin{array}{c}p \triangleleft_{c} m \\ p\end{array}\right] \rightarrow\left[\begin{array}{c}p \triangleleft_{c} m \\ p\end{array}\right] \triangleleft_{d}\left[\begin{array}{c}p \triangleleft_{c} m \\ p\end{array}\right]$ corresponds to the composite

$$
p \rightarrow\left[\begin{array}{c}
p \triangleleft_{c} m \\
p
\end{array}\right] \triangleleft_{d} p \triangleleft_{c} m \rightarrow\left[\begin{array}{c}
p \triangleleft_{c} m \\
p
\end{array}\right] \triangleleft_{d}\left(\left[\begin{array}{c}
p \triangleleft_{c} m \\
p
\end{array}\right] \triangleleft_{d} p \triangleleft_{c} m\right) \triangleleft_{c} m \rightarrow\left[\begin{array}{c}
p \triangleleft_{c} m \\
p
\end{array}\right] \triangleleft_{d}\left[\begin{array}{c}
p \triangleleft_{c} m \\
p
\end{array}\right] \triangleleft_{d} p \triangleleft_{c} m
$$

consisting of two applications of the unit of the adjunction $\left[\begin{array}{c}p \triangleleft_{c} m \\ -\end{array}\right] \dashv-\triangleleft_{d} p \triangleleft_{c} m$ followed by the multiplication of $m$.

As a special case, when $m=c$ this shows that $\left[\begin{array}{l}p \\ p\end{array}\right]$ is a comonoid for any bicomodule $p$.

\section*{3 Familial monads}

The main objects we consider are familial monads, which can be regarded as encoding the data, structure, and properties of a particular type of higher (or lower) dimensional category.

Definition 3.1. A familial monad is a cartesian monad on a presheaf category whose underlying endofunctor is familial as in Definition 2.8 (and hence arises from a formal monad in Cat $\left.^{\sharp}\right)$.

Example 3.2 (Free category monad). We denote by $g$ the category $\mathrm{E} \underset{t}{\stackrel{s}{\Rightarrow}} \mathrm{V}$ whose copresheaves are precisely graphs, and by $\vec{n}$ the graphs with vertices $0, \ldots, n$ and edges $i-1 \rightarrow i$ for all $1 \leq i \leq n$. The free category monad on graphs classically sends a graph to the graph with the same vertices and edges given by finite directed paths in the original graph, which can be partitioned according to their length; in this way, we can familially represent this endofunctor path as (for a $g$-copresheaf $X$ )

$$
\operatorname{path}(X)_{\mathrm{V}} \cong \operatorname{Hom}(\overrightarrow{0}, X) \quad \operatorname{path}(X)_{\mathrm{E}} \cong \sum_{n \in \mathbb{N}} \operatorname{Hom}(\vec{n}, X)
$$

as $\vec{n}$ is the "walking length- $n$ path graph." The familial functor path then corresponds to the $(g, g)$-bicomodule

$$
\text { path }:=\{\mathrm{V}\} y+\{\mathrm{E}\} \sum_{n \in \mathbb{N}} y^{\vec{n}}
$$

where the labels E, $\mathrm{V}$ indicate how the left coaction is defined on positions.

Following [Sha22, Section 5.2] or unraveling the definition of a cartesian formal monad in Cat ${ }^{\#}$ under the correspondence in Section 2.3, we get that a familial monad on the category $c$-Set consists of a $(c, c)$ bicomodule

$$
m=\sum_{C \in c(1)} \sum_{M \in m_{C}(1)} y^{m[M]}
$$

(where $M \in m_{C}(1)$ is called an operation outputting a $C$-cell and $m[M]$ is called the arity of $M$ ) along with the following additional data subject to unit and associativity equations:
- for each $C \in c(1)$, a unit operation $\eta(C) \in m_{C}(1)$ and an isomorphism $m[\eta(C)] \cong c[C]$ between its arity and the representable copresheaf on $C$; and
- for each $M \in m_{C}(1)$ and $N: m[M] \rightarrow m(1)$ a morphism in $c$-Set, a composite operation $\mu(M, N) \in m_{C}(1)$ and an isomorphism $m[\mu(M, N)] \cong \operatorname{colim}_{z \in m[M]} m[N z]$ between its arity and the colimit of arities indexed by the category of elements of $m[M]$.

Example 3.3 (Free category monad). For path, whose algebras are categories, the operations outputting edges correspond to the $n$-ary composition of arrows for each $n \in \mathbb{N}$ and their arities are the graphs $\vec{n}$ with $n$ adjacent edges. The unit operation outputting an edge is the trivial 1-ary composition of a single edge, while the only operation outputting a vertex is the unit. The composite operations arise from "plugging in" $n$ different paths of possibly different lengths $m_{1}, \ldots, m_{n}$ into the length $-n$ path to get a path of length $m_{1}+\cdots+m_{n}$ and the unique operation with that graph as its arity. This uniqueness of operations with respect to their arities is what ensures that the unit and associativity equations for categories hold among path-algebras, and a similar property applies to other familial monads whose algebras are strict higher category structures.

Example 3.4 (Symmetric operads). Any symmetric operad which is $\Sigma$-free, meaning that the symmetric group actions are free on the sets of $N$-ary operations, has a corresponding familial monad on sets with the same algebras (see for instance [Lei04, Example C.2.5]). In polynomial notation, noting that the $(y, y)$-bicomodules corresponding to familial endofunctors on Set are precisely ordinary polynomials, a symmetric operad $\Theta$ corresponds to the endofunctor

$$
o:=\sum_{N \in \mathbb{N}} \Theta_{N} \times y^{N}=\sum_{(N,[0]) \in \sum_{N} \Theta_{N} / \Sigma_{N}} y^{N}
$$

The operations are given by the equivalence classes $[O]$ in the quotient set $\Theta_{N} / \Sigma_{N}$ and have arity $o[[O]]=\underline{N}=\{1, \ldots, N\}$, and for each equivalence class $[O]$ we pick a representative $\bar{O} \in[O]$. The unique unit operation is given by the unit of $\mathcal{O}$. As $\operatorname{colim}_{v \in o[[0]]} o[[P v]]=\sum_{v} \underline{M_{v}} \cong$ $\underline{M_{1}+\cdots+M_{N}}$ for $[O] \in \mathcal{O}_{N} / \Sigma_{N}$ and $[P v] \in \mathcal{O}_{M_{v}} / \Sigma_{M_{v}}$, we can let $\mu([O],[P])=[\bar{O} \circ \bar{P}]$ with the isomorphism

$$
\operatorname{colim}_{v \in o[[O]]} o[[P v]]=o\left[\left[P_{1}\right]\right] \coprod \cdots \coprod o\left[\left[P_{N}\right]\right] \cong o[[\bar{O} \circ \bar{P}]] \cong o[[\overline{O \circ P}]]
$$

where $\bar{O} \circ \bar{P}$ and $\overline{O \circ P}$ are by the equivariance law for symmetric operads related by a permutation in $\Sigma_{M_{1}+\cdots+M_{N}}$, and by $\Sigma$-freedom of $\mathcal{O}$ this permutation is unique and forms the rightmost isomorphism in (7).

\subsection*{3.1 Higher categories}

Many examples of familial monads whose algebras are higher categories are discussed in [Sha22, Sections 1.3 and 7]; here we summarize some of those examples and provide a new one whose algebras are symmetric monoidal categories.

Example 3.5 (Higher categories). Various notions of algebraic higher categories are given by algebras for particular familial monads, including the following:
- the free $n$-category monad on $n$-graphs (also known as $n$-globular sets), where there is a unique operation outputting a $k$-cell $(k \leq n)$ for each $k$-dimensional globular pasting diagram, which forms the arity of that operation [Lei04, Proposition F.2.3];
- the free double category monad on double graphs (which have two types of edges along with squares between them), where the operations outputting edges of each type and their arities resemble those for categories and there is a unique operation outputting a square for each pair of natural numbers $(n, m)$, with arity the double graph given by an $n \times m$ grid of squares [Sha22, Example 1.14]; and
- the free (symmetric or nonsymmetric) multicategory monad on multigraphs, ${ }^{3}$ with an operation outputting an $n$-to-1 edge for each finite tree with $n$ leaves (and in the symmetric case a separate operation for each ordering of those $n$ leaves) [Web07, Example 2.14].

Example 3.6 (Symmetric monoidal categories). We now define a familial monad $s m c$ on the category of graphs, for which the algebras are symmetric strict monoidal categories, whose underlying monoidal categories are strict but only symmetric up to coherent isomorphism. While we could just as well discuss general symmetric monoidal categories, and will indicate the necessary modifications to do so, symmetric strict monoidal categories will be a convenient example for algebraic familial monads in Section 5.4

Let $g$ be the polynomial comonad that indexes graphs, as in Example 3.2. As a $(g, g)$ bicomodule, we define smc as

$$
\text { smc }:=\{\mathrm{V}\} \sum_{N \in \mathbb{N}} y^{N}+\{\mathrm{E}\} \sum_{\substack{N \in \mathbb{N}, \sigma \in \Sigma_{N} \\ M_{1}, \ldots, M_{N} \in \mathbb{N}}} y^{\vec{M}_{1}+\cdots+\vec{M}_{N}}
$$

where $\underline{N}$ denotes the graph with vertices labeled $1, \ldots, N$ and no edges, and $\vec{M}_{1}+\cdots+\vec{M}_{N}$ is the graph consisting of disjoint paths of lengths $M_{1}, \ldots, M_{N}$ respectively. The graph $\operatorname{smc}(1)$ has $\mathbb{N}$ as its set of vertices and $\sum_{N \in \mathbb{N}} \mathbb{N}^{N} \times \Sigma_{N}$ as its set of edges, with both the source and target of $\left(N, \sigma, M_{1}, \ldots, M_{N}\right)$ being $N$. We then need to specify two graph homomorphisms $\underline{N} \rightarrow \vec{M}_{1}+\cdots+\vec{M}_{N}$ (which we will call source and target); the source inclusion maps the $N$ vertices to the source vertex of each of the $N$ paths, in order, while the target inclusion maps them to the target vertex of each of the paths with their order permuted by $\sigma$.
\footnotetext{
${ }^{3}$ We use the category theorists' convention that graphs are by default directed with loops and multiple edges, so that the term "multigraph" may refer to the data underlying a multicategory.

${ }^{4}$ This example was previously explained by the second named author at https://youtu.be/u8XCiI-ZSHc?t=10.
}

The unit operations are then 1 and $(1, \mathrm{id}, 1)$ for vertices and edges respectively. A graph homomorphism $I: \underline{N} \rightarrow \operatorname{smc}(1)$ consists of $N$ natural numbers $I(1), \ldots, I(N)$, and the composite $\mu(N, I)=\sum_{i} I(\bar{i}) \in \operatorname{smc}_{v}(1)$ (this is the same composition as in the familial monad whose algebras are monoids). For a graph homomorphism I: $\vec{M}_{1}+\cdots+\vec{M}_{N} \rightarrow \operatorname{smc}(1)$, note that as $\vec{M}_{i}$ is connected and $\operatorname{smc}(1)$ is a disjoint union of graphs with a single vertex and many loops, $I$ sends all of the vertices in $\vec{M}_{i}$ to a single vertex in $\operatorname{smc}(1)$, which we denote $I(i) \in \mathbb{N}$. We further denote by $I(i, j)$ the image in $\operatorname{smc}_{e}(1)$ of the $j$ th edge of $\vec{M}_{i}$, which consists of the natural number $I(i)$, a permutation $I(i, j)_{\Sigma}$, and $I(i)$-many natural numbers $I(i, j)_{1}, \ldots, I(i, j)_{I(i)}$. The composite operation $\mu\left(\left(N, \sigma, M_{1}, \ldots, M_{N}\right), I\right)$ is then given by

$$
\begin{gathered}
\left(\sum_{i=1}^{N} I(i), \sum_{i=1}^{N} I(\sigma(i), 1)_{\Sigma} \circ \cdots \circ I\left(\sigma(i), M_{\sigma(i))_{\Sigma}}\right.\right. \\
\left.\sum_{j=1}^{M_{1}} I(1, j)_{1}, \ldots, \sum_{j=1}^{M_{1}} I(1, j)_{I(1)}, \ldots, \sum_{j=1}^{M_{N}} I(N, j)_{1}, \ldots, \sum_{j=1}^{M_{N}} I(N, j)_{I(N)}\right)
\end{gathered}
$$

where a sum of permutations denotes the appropriately partitioned permutation on the sum of the underlying sets. Informally, the arity of the composite is formed by substituting the arity $\operatorname{smc}[I(i, j)]$ in for the $j$ th edge of $\vec{M}_{i}$, and these arities will be compatible along vertices as the discrete graph $\operatorname{smc}[I(i)]$ is substituted in for each vertex in $\vec{M}_{i}$. The unit and associativity equations are then tedious but straightforward to check.

To see that algebras for $s m c$ are symmetric strict monoidal categories, observe that the strictly associative $n$-ary tensor product is defined on objects by the operation $N \in \operatorname{smc}_{v}(1)$ ( 0 being the unit) and on morphisms by the operation $(N, \mathrm{id}, 1, \ldots, 1) \in \operatorname{smc}_{e}(1)$; in an algebra for $s m c$, these operations ensure that to any $N$ vertices there is an associated vertex corresponding to their tensor product, and likewise for $N$ morphisms. Composition and identities are defined by the operations $(1, \mathrm{id}, N) \in s m c_{e}(1)$ with the same arities as those for the free category monad path, and the uniqueness of operations with the arities of $N$ morphisms in either series or parallel ensures the unitality and associativity of both composition and tensor product. Functoriality of the tensor product is witnessed by the equations

$$
\begin{gathered}
\mu((2, \mathrm{id}, 1,1), I(1,1)=I(2,1)=(1, \mathrm{id}, 2))=(2, \mathrm{id}, 2,2) \\
=\mu((1, \mathrm{id}, 2), I(1,1)=I(1,2)=(2, \mathrm{id}, 1,1)) \text { and } \\
\mu((2, \mathrm{id}, 1,1), I(1,1)=I(2,1)=(1, \mathrm{id}, 0))=(2, \mathrm{id}, 0,0)=\mu((1, \mathrm{id}, 0), I(1)=2)
\end{gathered}
$$

in $s_{e} c_{e}(1)$ which encode that in an algebra the composition (resp. identity) of tensor products is the tensor product of compositions (resp. identities). Finally, the symmetry isomorphisms are of the form $(N, \sigma, 0, \ldots, 0)$ and the source/target inclusions into their arities encode that they map from each $N$-ary tensor product to the tensor product of the same vertices in the appropriately permuted order. Naturality of the symmetry isomorphisms is encoded by the equation

$$
\mu((1, \mathrm{id}, 2), I(1,1)=(2, \sigma, 0,0), I(2,1)=(2, \mathrm{id}, 1,1))=(n, \sigma, 1,1)
$$

$$
=\mu((1, \mathrm{id}, 2), I(1,1)=(2, \mathrm{id}, 1,1), I(2,1)=(2, \sigma, 0,0))
$$

in $s m c_{e}(1)$, while associativity and invertibility of symmetries are encoded by the fact that operations in $s m c_{e}(1)$ with arity $\underline{N}$ are uniquely determined by a single permutation in $\Sigma_{N}$.

This method of adding in higher dimensional invertible operations to enforce commutativity properties not up to equality but rather up to higher dimensional cells is a way to get around the $\Sigma$-free condition from Example 3.4 (and is explored in [Web15]). It can also be used in a similar manner to define a monad whose algebras are weakly unital and/or associative, such as general symmetric monoidal categories: to do so, one would modify the elements of $s m c_{v}(1)$ to consist not just of a natural number $N$ but also a parenthesization of $N$ elements (parenthesizations could be binary/nullary or arbitrary length, corresponding to biased or unbiased monoidal categories as in [Lei04, Sections 3.1, 3.2]). Each operation in $s m c_{e}(1)$ as above would then also be equipped with two such parenthesizations of $N$ elements indicating its source and target operations, but these would not otherwise affect the data of $s m c$ which encodes the coherence property that any two parenthesizations of the same number of objects have a unique coherence isomorphism between their correpsonding tensor products. Further variations on the notion of monoidal category such as braided and/or lax monoidal categories can also be modeled in a fairly similar manner. $\diamond$

\subsection*{3.2 Theory categories and Nerves}

The fully faithful nerve functor from categories to simplicial sets encodes the algebraic structure of a category in a combinatorial manner: whereas a graph is a rather simple copresheaf which obtains the additional structure of a category only as an algebra for the path monad, a simplicial set is a more complex copresheaf but can encode the structure of a category all on its own. In [Web07, Section 4], Weber showed that this type of construction can be generalized to algebras for any familial monad: for each such $m$, there is a category $\Theta_{m}$ and a fully faithful functor $N_{m}: m$-Alg $\rightarrow \Theta_{m}^{\text {op }}$-Set.

Definition 3.7 ([Web07, Definition 4.4]). For a familial monad $m$ on the copresheaf category $c$-Set, define its theory category $\Theta_{m}$ to be the full subcategory of $m$-Alg spanned by the free algebras $m(m[M])$ for $M \in m_{C}(1)$ with $C \in c(1)$. Equivalently, $\Theta_{m}$ is the full subcategory of the Kleisli category of $m$ spanned by the objects $m[M]$ in $c$-Set. We will denote its objects by simply $M$.

Given an $m$-algebra $A$, its nerve is the functor $N_{m} A: \Theta_{m}^{\mathrm{op}} \rightarrow$ Set sending $M$ to the set $\operatorname{Hom}_{c-\operatorname{Set}}(m[M], A)$ (or equivalently $\operatorname{Hom}_{m-\mathrm{Alg}}(m(m[M]), A)$ ).

There is a functor $c^{\mathrm{op}} \rightarrow \Theta_{m}$ sending $C \in c(1)$ to $\eta(C) \in m_{C}(1)$; we will sometimes treat this faithful functor as a subcategory inclusion and denote the object $\eta(C)$ of $\Theta_{m}$ as simply C.

Theorem 3.8 ([Web07, Theorem 4.10]). The functor $N_{m}$ is fully faithful and its essential image is precisely those copresheaves $\mathrm{X}$ satisfying the "Segal" condition

$$
X_{M} \cong \lim _{z \in m[M]} X_{C}
$$

We will sometimes call such copresheaves models of the theory.

Example 3.9 (Nerves of categories). For the monad path, the theory category $\Theta_{\text {path }}$ has as objects the set $\{0\}+\mathbb{N}$ of natural numbers with two distinct copies of 0 and as morphisms $k \rightarrow \ell$ Kleisli arrows $\vec{k} \rightarrow$ path $(\vec{\ell})$, or equivalently functors path $(\vec{k}) \rightarrow$ path $(\vec{\ell})$, where the domain and codomain are the ordinal categories $[k]$ and $[\ell]$. Thus $\Theta_{\text {path }}$ coincides with the simplex category $\Delta$, albeit with two isomorphic copies of the terminal category $[0],{ }^{5}$ corresponding to the nerve of a category being a simplicial set.

Example 3.10 (Nerves of higher categories). This construction also recovers the appropriate type of presheaves for the nerves of various types of higher categories:
- the theory category for the free $n$-category monad is equivalent to Joyal's category $\Theta_{n}$, whose objects are free pasting diagrams of composable globular cells up to dimension $n$ [Web07, Example 4.18];
- for the free double category monad it is $\Delta \times \Delta$ whose objects can be regarded as composable finite grids; and
- for the free (symmetric/nonsymmetric) multicategory monad it is the (ordinary /planar) dendroid category $\Omega$ whose objects are planar trees (in the symmetric case equipped with a permutation on the leaves) [Web07, Example 2.14].

Example 3.11 (Nerves of operad algebras). For a $\Sigma$-free symmetric operad $\mathcal{O}$, its theory category $\Theta_{o}$ is equivalent to the category of free $\Theta$-algebras with $N$ generators for each $N$ with $\Theta_{N}$ nonempty. When $\mathcal{O}$ has at least one operation in each arity, this is precisely the Lawvere theory associated to the finitary monad $o$ (or its opposite, depending on convention) [Web07, Example 4.15], and the nerve functor sends an $\mathcal{\Theta}$-algebra to the corresponding model of the Lawvere theory in the classical sense. In this case $\Theta_{0}$ has finite coproducts and the Segal condition for copresheaves on $\Theta_{o}^{\text {op }}$ to be isomorphic to the nerve of an $\Theta$-algebra is precisely the product preservation condition for a model of the Lawvere theory as a functor $\Theta_{o}^{\text {op }} \rightarrow$ Set.

The category $\Theta_{m}$ has a wide subcategory $\Theta_{m}^{0}$ consisting of inert morphisms $M \rightarrow M^{\prime}$ of the form $m(f): m(m[M]) \rightarrow m\left(m\left[M^{\prime \prime}\right]\right)$ in the Eilenberg-Moore category or $\eta \circ f: m[M] \rightarrow$ $m\left[M^{\prime \prime}\right] \rightarrow m\left(m\left[M^{\prime \prime}\right]\right)$ in the Kleisli category. Equivalently, $\Theta_{m}^{0}$ is the full subcategory of $c$-Set spanned by the objects $m[M]$. There are functors

$$
c \xrightarrow{i} \Theta_{m}^{0} \xrightarrow{j} \Theta_{m},
$$

where $i$ is fully faithful and $j$ is identity on objects. The Segal condition for a $\Theta_{m}^{\mathrm{op}}$-copresheaf $X$ can alternatively be expressed by the equation $j^{*} X \cong i_{*}(j i)^{*} X$, where $(-)^{*}$ denotes the restriction functor on copresheaves and $(-)_{*}$ denotes the functor on copresheaves given by right Kan extension (see [Web07, Definition 4.4]). Indeed by definition, for an object $M$ of $\Theta_{m},\left(j^{*} X\right)_{M}=X_{M}$ and $\left(i_{*}(j i)^{*} X\right)_{M} \cong \lim _{z \in m[M]_{c}} X_{C}$.
\footnotetext{
${ }^{5}$ This choice of category in the equivalence class of $\Delta$ admits a cofunctor from its opposite category to $g$, and is used in [Sha22, Section 6] as a convenient convention for general theory categories.
}

\section*{4 Theories and Nerves in $\mathrm{Cat}^{\sharp}$}

The fact that theory categories are modeled in $\mathbb{C a t}^{\sharp}$ using the right coclosure follows from a more general relationship between the right coclosure and Kleisli categories.

Theorem 4.1. For $m$ a monad on $c$ in Cat $^{\sharp}$ and $p$ any $(d, c)$-bicomodule, the carrier comonoid of the comonad $\left[\begin{array}{c}p \triangleleft_{c} m \\ p\end{array}\right]$ on d corresponds to the opposite of the full subcategory of the Kleisli category of $m$ spanned by the copresheaves on $c$ of the form $p[I]$, and the cofunctor from this category to $d$ sends the object $p[I]$ for $I \in p_{D}(1)$ to $D \in d(1)$.

Proof. Following Definitions 2.6 and 2.14, the objects of the category corresponding to $\left[\begin{array}{c}p \triangleleft_{c} m \\ p\end{array}\right]$ are the elements $\sum_{D} p_{D}(1)$, denoted by $I \in p_{D}(1)$ for the appropriate choice of $D$, and the morphisms out of $I$ are given by the set

$$
p \triangleleft_{c} m \triangleleft_{c} p[I] \cong \sum_{D^{\prime} \in d(1)} \sum_{J \in p_{D^{\prime}}(1)} \operatorname{Hom}_{c-\operatorname{Set}}\left(p[J], m \triangleleft_{c} p[I]\right) .
$$

It is straightforward to check from that the codomain function sends an element of this set to $J \in p_{D^{\prime}}(1)$; in other words, that the set of morphisms from $I$ to $J$ in this category consists of Kleisli morphisms for the monad $m$ from $p[J]$ to $p[I]$; and that composition and identities correspond to their analogues in the Kleisli category of $m$. The claim regarding the cofunctor to $D$ similarly follows directly from Lemma 2.12.

We can now conclude from Theorem 4.1 and Definition 3.7 that the right coclosure in Cat ${ }^{\sharp}$ provides a construction of the theory category of a familial monad, and endows it with a universal property.

Corollary 4.2. For $m$ a familial monad on $c$-Set, the polynomial comonoid $\left[\begin{array}{c}m \triangleleft_{c} m \\ m\end{array}\right]$ corresponds to the theory category $\Theta_{m}^{\text {op }}$ up to isomorphism.

Therefore, $\Theta_{m}$ has the universal property that cofunctors $\Theta_{m}^{\mathrm{op}} \rightarrow$ a commuting over $c$ for a cofunctor $a \rightarrow c$ correspond to transformations of familial endofunctors from $m$ to $a \triangleleft_{c} m \triangleleft_{c} m$ with respect to which the counit and comultiplication of a regarded as a familial comonad commute with the unit and multiplication of the rightmost copy of $m$ in a suitable sense. ${ }^{6}$

As an example of this universal property, there is a cofunctor $\Theta_{m}^{\text {op }} \rightarrow c$ sending $M \in$ $m_{C}(1)$ to $C \in c(1)$ which corresponds to the transformation $m \cong m \triangleleft_{c} c \xrightarrow{\mathrm{id}_{m} \triangleleft^{\eta}} m \triangleleft_{c} m \cong$ $c \triangleleft_{c} m \triangleleft_{c} m$. Another example is the vertical cofunctor $\Theta_{m}^{\mathrm{op}} \rightarrow\left(\Theta_{m}^{0}\right)^{\mathrm{op}}$ given by the bijective on objects functor $\Theta_{m} \leftarrow \Theta_{m}^{0}$, which can be modeled in Cat ${ }^{\#}$ using the following special case of Theorem 4.1.

Corollary 4.3. For $p$ a $(d, c)$-bicomodule, category corresponding to the comonoid $\left[\begin{array}{l}p \\ p\end{array}\right]$ is the opposite of the full subcategory of $c$-Set spanned by the copresheaves of the form $p[I]$, over all $I \in p(1)$.
\footnotetext{
${ }^{6}$ See the proof of Theorem 4.4 for a sense of what this looks like.
}

Given this, under the universal property from Corollary 4.2 this cofunctor $\left[\begin{array}{c}\pi_{\triangleleft} m \\ m\end{array}\right] \rightarrow$ $\left[\begin{array}{l}m \\ m\end{array}\right]$ corresponds to the transformation $m \rightarrow\left[\begin{array}{l}m \\ m\end{array}\right] \triangleleft_{c} m \xrightarrow{\mathrm{id} \triangleleft_{c} \eta}\left[\begin{array}{l}m \\ m\end{array}\right] \triangleleft_{c} m \triangleleft_{c} m$.

We are now ready to express the nerve functor in the language of $\mathbb{C a t}^{\sharp}$. The key idea behind this construction is that for an $m$-algebra $X$, the set of elements of its nerve $N_{m} X$ is the set $\sum_{C \in c(1)} \sum_{M \in m_{C}(1)} \operatorname{Hom}_{c-\operatorname{Set}}(m[M], X)$, which is precisely the set of elements of $m(X)$. The key feature of this construction in $\mathrm{Cat}^{\sharp}$ is therefore to exhibit this copresheaf on $c$ as a $\left[\begin{array}{c}m \triangleleft_{c} m \\ m\end{array}\right]$-comodule, allowing it to lift to the structure of a model of the theory $\Theta_{m}$ using Lemma 2.13.

Theorem 4.4. For $m$ a monad on $c$ in $\mathbb{C a t}^{\sharp}, p a(d, c)$-bicomodule, and $x a(c, b)$-bicomodule with the structure of a left m-module, the transformation of bicomodules in (8) endows $p \triangleleft_{c} x$ with the structure of a left $\left[\begin{array}{c}p \triangleleft_{c} m \\ p\end{array}\right]$-comodule.

![](https://cdn.mathpix.com/cropped/2024_05_24_c3a33cfdeced928aa2f8g-17.jpg?height=208&width=658&top_left_y=1002&top_left_x=728)

Note that when $b=0, x=X$ is an ordinary $m$-algebra $m(X) \rightarrow X$ and this construction generalizes the construction of the nerve on elements discussed above.

Proof. Let a ( $c, b$ )-bicomodule $x$ have an $m$-action morphism $\psi: m \triangleleft_{c} x \rightarrow x$, and consider the coaction morphism $p \triangleleft_{c} x \rightarrow\left[\begin{array}{c}p \triangleleft_{c} m \\ p\end{array}\right] \triangleleft_{d} p \triangleleft_{c} x$ of $(d, b)$-bicomodules from (8).

To show that $p \triangleleft_{c} x$ is a comodule, we demonstrate that the coaction commutes with counit and comultiplication. To do so, we use the universal property of the coclosure, namely that a transformation $p \rightarrow q \triangleleft_{d} p \triangleleft_{c} m$ for $q$ a ( $d, d$ )-bicomodule, as on the left in (9), factors uniquely through a transformation $\left[\begin{array}{c}p \triangleleft_{c} m \\ p\end{array}\right] \rightarrow q$, as on the right in (9).

![](https://cdn.mathpix.com/cropped/2024_05_24_c3a33cfdeced928aa2f8g-17.jpg?height=220&width=1173&top_left_y=1771&top_left_x=476)

For the counit, the composite $p \triangleleft_{c} x \rightarrow p \triangleleft_{c} m \triangleleft_{c} x \rightarrow p \triangleleft_{c} x$ of the unit of $m$ with the $m$-action map of $x$, on the left in (10), is the identity by the unit law for $m$-modules. Therefore the composite of the coaction with the counit of $\left[\begin{array}{c}p \triangleleft_{c} m \\ p\end{array}\right]$ as defined in Section 4, on the right in (10), is the identity as desired.

![](https://cdn.mathpix.com/cropped/2024_05_24_c3a33cfdeced928aa2f8g-17.jpg?height=223&width=1372&top_left_y=2271&top_left_x=344)

For the comultiplication, the composite

$$
\begin{gathered}
p \triangleleft_{c} x \rightarrow\left[\begin{array}{c}
p \triangleleft_{c} m \\
p
\end{array}\right] \triangleleft_{d}\left[\begin{array}{c}
p \triangleleft_{c} m \\
p
\end{array}\right] \triangleleft_{d} p \triangleleft_{c}\left(m \triangleleft_{c} m\right) \triangleleft_{c} x \\
\xrightarrow[\cdots \triangleleft_{c} \mu \triangleleft_{c} x]{p}\left[\begin{array}{c}
p \triangleleft_{c} m \\
p
\end{array}\right] \triangleleft_{d}\left[\begin{array}{c}
p \triangleleft_{c} m \\
p
\end{array}\right] \triangleleft_{d} p \triangleleft_{c} m \triangleleft_{c} x \xrightarrow{\cdots \triangleleft_{c} \psi}\left[\begin{array}{c}
p \triangleleft_{c} m \\
p
\end{array}\right] \triangleleft_{d}\left[\begin{array}{c}
p \triangleleft_{c} m \\
p
\end{array}\right] \triangleleft_{d} p \triangleleft_{c} x
\end{gathered}
$$

on top in (11) agrees with the composite

$$
\begin{gathered}
p \triangleleft_{c} x \rightarrow\left[\begin{array}{c}
p \triangleleft_{c} m \\
p
\end{array}\right] \triangleleft_{d}\left[\begin{array}{c}
p \triangleleft_{c} m \\
p
\end{array}\right] \triangleleft_{d} p \triangleleft_{c} m \triangleleft_{c}\left(m \triangleleft_{c} x\right) \\
\xrightarrow{\cdots \triangleleft_{c} m \triangleleft_{c} \psi}\left[\begin{array}{c}
p \triangleleft_{c} m \\
p
\end{array}\right] \triangleleft_{d}\left[\begin{array}{c}
p \triangleleft_{c} m \\
p
\end{array}\right] \triangleleft_{d} p \triangleleft_{c} m \triangleleft_{c} x \xrightarrow{\cdots \triangleleft_{c} \psi}\left[\begin{array}{c}
p \triangleleft_{c} m \\
p
\end{array}\right] \triangleleft_{d}\left[\begin{array}{c}
p \triangleleft_{c} m \\
p
\end{array}\right] \triangleleft_{d} p \triangleleft_{c} x
\end{gathered}
$$

on the bottom in (11) by the multiplication law for $m$-modules, so the composite of the coaction with the comultiplication of $\left[\begin{array}{c}p \triangleleft_{c} m \\ p\end{array}\right]$ agrees with the repeated application of the coaction as desired.

![](https://cdn.mathpix.com/cropped/2024_05_24_c3a33cfdeced928aa2f8g-18.jpg?height=655&width=960&top_left_y=1025&top_left_x=580)

Applying Lemma 2.13 when $b=0$, this makes $p \triangleleft_{c} X$ a presheaf over the category $\Theta_{m}^{p}$ dual to $\left[\begin{array}{c}p \triangleleft_{c} m \\ p\end{array}\right]$, which is the full subcategory of the Kleisli category of $m$ (or equivalently Eilenberg-Moore category) spanned by the copresheaves of the form $p[I]$ on $c$ (respectively, the free algebras $m(p[I]))$. The nerve functor constructed at the level of generality in Theorem 4.4 is the right adjoint from $m$-algebras to presheaves over $\Theta_{m}^{p}$ induced by the inclusion of this subcategory into $m$-Alg.

Corollary 4.5. In the case when $p=m$ and $b=0$, this assignment of a presheaf on $\Theta_{m}$ to an m-algebra agrees with the nerve given by Weber in [Web07, Definition 4.4]. Furthermore, in the case of a general bicomodule $p$ this functor agrees with the evident generalization of Weber's nerve functor described above.

Proof. We show that for general $p$ the copresheaf $p \triangleleft_{c} X$ has $I$-cells given by maps $m \triangleleft_{c}$ $p[I] \rightarrow X$ of $m$-algebras and for a morphism $f: m \triangleleft_{c} p\left[I^{\prime}\right] \rightarrow m \triangleleft_{c} p[I]$ of $m$-algebras, the corresponding function from $I$-cells to $I^{\prime}$-cells is given by precomposition with $f$.

Observe that on positions, the unit morphism $p \rightarrow\left[\begin{array}{c}p \triangleleft_{c} m \\ p\end{array}\right] \triangleleft_{d} p \triangleleft_{c} m$ sends $I \in p(1)$ to the tuple

$$
\left(I \in p(1),\left(I^{\prime} \in p(1)\right)_{f: p\left[I^{\prime}\right] \rightarrow m \triangleleft_{c} p[I]}, \pi \circ f: p\left[I^{\prime}\right] \rightarrow m \triangleleft_{c} p[I] \rightarrow m(1)\right),
$$

where $f$ is a morphism of $c$-copresheaves, and on directions sends

$$
\left(I^{\prime}, v \in p\left[I^{\prime}\right], z \in m[\pi \circ f(v)]\right)
$$

to $f(v, z)$. The coaction thus sends the pair $(I, p[I] \rightarrow X)$ to

$$
\left(I,\left(I^{\prime}\right)_{f},\left(p\left[I^{\prime}\right] \rightarrow m \triangleleft_{c} p[I] \rightarrow m \triangleleft_{c} X \rightarrow X\right)_{f}\right)
$$

As a $\left[\begin{array}{c}p \triangleleft_{c} m \\ p\end{array}\right]$-copresheaf then its $I$-cells are the maps $p[I] \rightarrow X$ of $c$-copresheaves, equivalently maps $m \triangleleft_{c} p[I] \rightarrow X$ of $m$-algebras, and the application of a morphism $p\left[I^{\prime}\right] \rightarrow m \triangleleft_{c} p[I]$ to $p[I] \rightarrow X$ is the Kleisli composite, equivalently the composite of maps

$$
m \triangleleft_{c} p\left[I^{\prime}\right] \rightarrow m \triangleleft_{c} p[I] \rightarrow X
$$

of $m$-algebras as desired.

While most common examples of nerves of higher categories are of the form $m \triangleleft_{c} x$, generalizing to $p \triangleleft_{c} x$ allows for more precise control over which patterns are probed for and how many times they are counted.

Example 4.6 (Models of Lawvere theories for operad algebras). For $\mathcal{O}$ a $\Sigma$-free symmetric operad and list the polynomial $\sum_{N \in \mathbb{N}} y^{N}$ corresponding to the terminal nonsymmetric operad, the category $\left[\begin{array}{c}\text { listso } \\ \text { list }\end{array}\right]$ is the opposite of the full subcategory of $\mathcal{O}$-algebras spanned by the free $\mathcal{O}$-algebras on $N$ generators for all $N \in \mathbb{N}$. This is precisely the Lawvere theory corresponding to the finitary monad associated to $\mathcal{O}$. As discussed in Example 3.11, the theory category $\Theta_{0}$, by comparison, may have many more objects (one for each operation in $O$ rather than one for each finite arity) and does not necessarily include all finite arities as $\mathcal{O}$ may have no $N$-ary operations for certain $N$. Hence the nerve functor associated to this category agrees precisely with the classical construction of a model for the Lawvere theory from an $o$-algebra. This construction also applies to any ordinary polynomial monad on Set, where symmetric operads represent those which are cartesian.

Remark 4.7. Weber's Nerve Theorem [Web07, Theorem 4.10] shows that the nerve functor is fully faithful, though we have not yet been able to express this proof in the language of Cat ${ }^{\sharp}$. It could also be interesting to consider which choices of $p$ admit an analogous result, or equivalently when $\Theta_{m}^{p}$ is dense in $m$-algebras.

Remark 4.8. The Segal condition can be expressed in Cat ${ }^{\sharp}$, albeit in a slightly different form than stated at the end of Section 3.2. In [Web07, Definition 4.4], the Segal condition for $X$ is defined as the $\left(\Theta_{m}^{0}\right)^{\text {op }}$-copresheaf $j^{*} X$ being in the image of $i_{*}$, though in that case it will always be the image of specifically $(j i)^{*} X$. This version however is more convenient for working in $\mathbb{C a t}^{\sharp}$, where fully faithful functors and restrictions of copresheaves along them are more challenging to represent than functors such as $j^{*}$ and $i_{*}$. The Segal condition
can then be expressed, at the level of generality of Theorem 4.4, as the existence of a c-copresheaf $X^{\prime}$ making the diagram below commute up to isomorphism in Cat ${ }^{\sharp}$.

![](https://cdn.mathpix.com/cropped/2024_05_24_c3a33cfdeced928aa2f8g-20.jpg?height=244&width=566&top_left_y=388&top_left_x=777)

Composition with $\left[\begin{array}{c}p_{\triangleleft_{c} \eta} \\ p\end{array}\right]$ corresponds to restriction along the functor from the category of copresheaves of the form $p[I]$ to that of free $m$-algebras of the form $m(p[I])$, and thus agrees with $j^{*}$ when $p=m$. Similarly, when $p=m$ composition with the $\left(\left[\begin{array}{l}p \\ p\end{array}\right], c\right)$-bicomodule $p$ agrees with the right Kan extension $i_{*}$.

\section*{5 Algebraic familial monads}

We now consider Lack and Street's construction of the free completion of Cat ${ }^{\sharp}$ (regarded as a bicategory) under Eilenberg-Moore objects, EM $\left(\mathbf{C a t}^{\sharp}\right)$. This bicategory is very similar to that of formal monads in Cat $^{\#}$ (as described in [Str72; LS02]), but has a slightly adjusted definition of the 2-cells between monad morphisms. In $\mathrm{Cat}^{\sharp}$, this construction produces a bicategory which can be viewed (through the lens of the right 4 -coclosure) as having as objects familial monads, as morphisms functors between categories of algebras of familial monads which are themselves familial in a suitable sense, and as 2-cells natural transformations between these functors. Monads in EM(Cat $\left.{ }^{\sharp}\right)$ include familiar constructions such as the free symmetric monoidal category monad on Cat, and by a formal result of Lack and Street behave like an elegant generalization distributive laws in Cat $^{\#}$.

Definition 5.1 ([LS02, end of section 1]). The bicategory EM(Cat $\left.{ }^{\sharp}\right)$ has $^{7}$
- as objects, monads $\left(c, c \triangleleft \frac{m}{} \triangleleft c\right)$ in Cat ${ }^{\#}$;
- as morphisms, monad morphisms $(p, \alpha):(c, m) \leftarrow(d, n)$ in $\mathbb{C} \mathbf{a}^{\sharp}$, where $p: c \triangleleft \triangleleft d$ and $\alpha: m \triangleleft_{c} p \Rightarrow p \triangleleft_{d} n$ satisfy equations (12) and (13);

![](https://cdn.mathpix.com/cropped/2024_05_24_c3a33cfdeced928aa2f8g-20.jpg?height=217&width=922&top_left_y=1905&top_left_x=645)
\footnotetext{
${ }^{7}$ While we wish to consider this construction in the setting of bicategories as discussed in [LS02, Remark 1.1], for convenience and readability we suppress the unitors and associators from our diagrams. Alternatively, as the underlying bicategory of $\mathbb{C a t}^{\sharp}$ is biequivalent to the sub-2-category of CAT consisting of copresheaf categories, familial functors between them, and natural transformations, the construction for 2-categories can just as well be applied in that setting without modification.
}

![](https://cdn.mathpix.com/cropped/2024_05_24_c3a33cfdeced928aa2f8g-21.jpg?height=339&width=957&top_left_y=237&top_left_x=625)

- as 2-cells, the variation on transformations of monad morphisms given by $\rho:(p, \alpha) \Rightarrow$ $(q, \beta)$, where $\rho$ is a transformation $p \Rightarrow q \triangleleft_{d} n$ satisfying equation (14);

![](https://cdn.mathpix.com/cropped/2024_05_24_c3a33cfdeced928aa2f8g-21.jpg?height=345&width=957&top_left_y=711&top_left_x=627)

- identity morphisms are given by identities in Cat $^{\sharp}$;

- composition of morphisms $(c, m) \stackrel{(p, \alpha)}{\rightleftarrows}(d, n) \stackrel{(q, \beta)}{\rightleftarrows}(e, o)$ is given by the composite morphism $p \triangleleft_{d} q$ and the composite 2-cell in (15);

![](https://cdn.mathpix.com/cropped/2024_05_24_c3a33cfdeced928aa2f8g-21.jpg?height=209&width=370&top_left_y=1267&top_left_x=921)

- identity 2-cells $(p, \alpha) \Rightarrow(p, \alpha)$ for $(p, \alpha):(c, m) \leftarrow(d, n)$ are given by the unit of $n$, $p \triangleleft_{d} \eta^{n}: p \Rightarrow p \circ n ;$

- vertical composition of 2-cells $(p, \alpha) \stackrel{\rho}{\Rightarrow}(q, \beta) \stackrel{\sigma}{\Rightarrow}(r, \gamma)$ is given by the composite 2-cell on the left in (16);

![](https://cdn.mathpix.com/cropped/2024_05_24_c3a33cfdeced928aa2f8g-21.jpg?height=345&width=376&top_left_y=1714&top_left_x=907)

- and horizontal composition of 2-cells $(p, \alpha) \stackrel{\rho}{\Rightarrow}(q, \beta)$ and $(r, \gamma) \stackrel{\sigma}{\Rightarrow}(s, \delta)$ is given by either of the composite 2-cells in the center or right in (17), which agree by (14).

![](https://cdn.mathpix.com/cropped/2024_05_24_c3a33cfdeced928aa2f8g-21.jpg?height=339&width=1206&top_left_y=2221&top_left_x=470)

Definition 5.2. We will write $m-\mathbf{A l g}_{a}$ for the category of bicomodules $c \triangleleft \frac{x}{4} \triangleleft a$ equipped with the structure of a left $m$-module. The category of algebras for the corresponding familial monad on $c$-Set is given by $m-\mathbf{A l g}_{0}$.

A monad morphism $(p, \alpha):(c, m) \leftarrow(d, n)$ induces a functor $n-\mathbf{A l g}_{a} \rightarrow m$-Alg $\mathbf{A l}_{a}$ sending an $n$-module $d \triangleleft \frac{x}{} \triangleleft a$ to $p \circ x=p \triangleleft_{d} x$, which has an $m$-module structure given by the composite in (18).

![](https://cdn.mathpix.com/cropped/2024_05_24_c3a33cfdeced928aa2f8g-22.jpg?height=204&width=379&top_left_y=646&top_left_x=865)

While this diagram demonstrates formally that for $x$ an $n$-module $p \circ x$ is an $m$-module, we can use the right $\varangle$-coclosure to unpack the precise form of this functor when $a=0$. By the universal property of the right coclosure, a 2-cell $\alpha: m \triangleleft p \rightarrow p \triangleleft n$ in Cat ${ }^{\sharp}$ corresponds to a 2-cell $\left[\begin{array}{c}n \\ m \triangleleft p\end{array}\right] \rightarrow p$ which will illustrate how $p$ sends $m$-algebras to $n$-algebras in the style of familial functors.

The data of a 2-cell $\left[\begin{array}{c}n \\ m \triangleleft_{c} p\end{array}\right] \rightarrow p$ consists of a morphism $\alpha_{1}: m(p(1)) \rightarrow p(1)$ of $c$ copresheaves along with natural maps in $d$-Set, for each $M \in m(1)$ and $I: m[M] \rightarrow p(1)$ in $c$-Set, of the form

$$
\alpha_{M, I}^{\#}: n\left(\operatorname{colim}_{z \in m[M]} p[I(z)]\right) \leftarrow p\left[\alpha_{1}(M, I: m[M] \rightarrow p(1))\right]
$$

which can be equivalently regarded as maps

$$
n\left(\operatorname{colim}_{z \in m[M]} p[I(z)]\right) \leftarrow n\left(p\left[\alpha_{1}(M, I: m[M] \rightarrow p(1))\right]\right)
$$

of free $n$-algebras which commute with units and multiplications in a suitable sense.

For an $n$-algebra $n(X) \rightarrow X$ in $d$-Set, the $m$-algebra $p(X)=p \triangleleft_{d} X$ is then given by

$$
p(X)_{C} \cong \sum_{I \in p_{C}(1)} \operatorname{Hom}_{d-\operatorname{Set}}(p[I], X) \cong \sum_{I \in p_{C}(1)} \operatorname{Hom}_{n-\operatorname{Alg}}(n(p[I]), X)
$$

for objects $C \in c(1)$. The definition of $m(p(X))$ unwinds to the copresheaf

$$
\begin{aligned}
m(p(X))_{C} & \cong \sum_{M \in m_{C}(1)} \sum_{I:} \operatorname{Hom}_{d-\operatorname{Set}}\left(\operatorname{colim}_{z \in m[M]} p[I(z)], X\right) \\
& \cong \sum_{M \in m_{C}(1)} \sum_{I: m[M] \rightarrow p(1)} \operatorname{Hom}_{n-\operatorname{Alg}}\left(n\left(\operatorname{colim}_{z \in m[M]} p[I(z)]\right), X\right) \\
& \cong \sum_{M \in m_{C}(1)} \sum_{I: m[M] \rightarrow p(1)} \operatorname{Hom}_{n-\operatorname{Alg}}\left(\operatorname{colim}_{z \in m[M]} n(p[I(z)]), X\right)
\end{aligned}
$$
and the $m$-algebra structure map $m(p(X)) \rightarrow p(X)$ acts by $\alpha_{1}$ on the indices of the sum and on each summand by precomposition with the algebra map

$$
n\left(p\left[\alpha_{1}(M, I)\right]\right) \xrightarrow{a_{M, I}^{*}} n\left(\operatorname{colim}_{z \in m[M]} p[I(z)]\right) \cong \operatorname{colim}_{z \in m[M]} n(p[I(z)])
$$

These functors between categories of familial algebras therefore closely resemble familial functors between copresheaf categories, but with the additional data of an $m$-action which treats the arity $d$-copresheaves of $p$ as the corresponding free $n$-algebras, so as to lift the familial functor to map between categories of algebras. We therefore call them "algebraic familial functors."

Definition 5.3. For $m$ a familial monad on $c$-Set and $n$ a familial monad on $d$-Set, an algebraic familial functor is a functor $m$-Alg $\leftarrow n$-Alg which commutes with an ordinary familial functor $c$-Set $\stackrel{p}{\leftarrow} d$-Set along the forgetful functors as in (19).

![](https://cdn.mathpix.com/cropped/2024_05_24_c3a33cfdeced928aa2f8g-23.jpg?height=206&width=355&top_left_y=1016&top_left_x=885)

In addition to the familial functor $c \triangleleft \frac{p}{} \triangleleft d$, the data of an algebraic familial functor consists of an $m$-algebra structure $m(p(X)) \rightarrow p(X)$ for all $n$-algebras $X$.

As there must be a map $p(X) \rightarrow p(1)$ of $m$-algebras for all $n$-algebras $X$, we can deduce that the algebra structure on $p(X)$, whose component at the object $C$ of $c$ is a function

$$
\sum_{\substack{M \in m_{C}(1) \\ I: m[M] \rightarrow p(1)}} \operatorname{Hom}_{n-\mathbf{A l g}}\left(\operatorname{colim}_{z \in m[M]} n(p[I(z)]), X\right) \rightarrow \sum_{I \in p_{C}(1)} \operatorname{Hom}_{n-\mathbf{A l g}}(n(p[I]), X)
$$

is determined by a map $\alpha_{1}: m(p(1)) \rightarrow p(1)$ in $c$-Set making $p(1)$ an $m$-algebra, along with for each $M \in m_{C}(1)$ a map

$$
\alpha_{M, I}^{\#}: n\left(\operatorname{colim}_{z \in m[M]} p[I(z)]\right) \leftarrow n\left(p\left[\alpha_{1}(M, I)\right]\right)
$$

of free $n$-algebras such that $\left(p, \alpha_{1}, \alpha^{\#}\right)$ form a monad morphism from $n$ to $m$.

The arity $n$-algebras $n(p[I])$ and the maps between them imposed by $c$ have to be free so that the sets $\operatorname{Hom}_{n-\mathrm{Alg}}(n(p[I]), X)$ can be modeled by sets of the form $\operatorname{Hom}_{d-\mathrm{Set}}(p[I], X)$, which corresponds to the functor between categories of algebras descending to a welldefined functor between the underlying presheaf categories.

Theorem 5.4. Just as the bicategory $\mathbb{C a t}^{\sharp}$ is biequivalent to the 2-category of copresheaf categories, familial functors, and natural transformations, the $\mathbf{E M}\left(\mathbb{C a t}^{\sharp}\right)$ is biequivalent to the 2-category of copresheaf categories equipped with a familial monad, algebraic familial functors between categories of algebras, and natural transformations.

Proof. The 2-category of copresheaf categories, familial functors, and natural transformations is a sub-2-category of CAT, so applying the EM construction we get a sub-2-category of $\operatorname{EM}(C A T)$ as described in [LS02, Section 2.1]. Therefore, following that description the objects are categories $c$ equipped with a familial monad $m$ on $c$-Set, morphisms are functors between the corresponding categories of algebras which commute with a functor between the underlying copresheaf categories, and 2-cells are natural transformations of those functors. By [LS02, Section 2.2] and the discussion above of the functors on categories of algebras induced by monad morphisms, the morphisms are precisely the algebraic familial functors.

Remark 5.5. To see more clearly why the 2-cells of $\mathbf{E M}\left(\mathbf{C a t}^{\sharp}\right)$ are preferable to the simpler transformations of monad morphisms of [Str72], consider the data of a natural transformation between algebraic familial functors $\rho:(p, \alpha),(q, \alpha): n$-Alg $\rightarrow m$-Alg. Much like a transformation of ordinary familial functors, it consists of a morphism $\rho_{1}: p(1) \rightarrow q(1)$ of $c$-copresheaves and natural maps from the arities of $q$ to those of $p$, but $\rho_{1}$ must commute with the $m$-actions on $p(1)$ and $q(1)$, the maps on arities can be any maps of $n$-algebras $\rho_{I}^{\#}: n(p[I]) \leftarrow n\left(q\left[\rho_{1}(I)\right]\right)$, and these maps on arities commute with those of $\alpha, \beta$. In other words, from the definition of natural transformations of familial functors, replace the map of copresheaves on positions with a map of $m$-algebras, replace the maps of copresheaves on directions with maps of free $n$-algebras, and ensure that these maps on directions respect the algebra structure on the positions.

Without the algebra structure on $p(1), q(1)$ and the corresponding conditions on $\rho$, a morphism $\rho_{1}: p(1) \rightarrow q(1)$ of $c$-copresheaves and natural morphisms $\rho \#_{I}: n(p[I]) \leftarrow$ $n\left(q\left[\rho_{1}(I)\right]\right)$ of $n$-algebras, or equivalently natural morphisms $n(p[I]) \leftarrow q\left[\rho_{1}(I)\right]$ of $d$ copresheaves, is precisely the data of a morphism $\left[\begin{array}{l}n \\ p\end{array}\right] \rightarrow q$ of $(c, d)$-bicomodules. Therefore, by the definition of the right-coclosure (Definition 2.14), it is also precisely the data of a morphism $p \rightarrow q \triangleleft n$.

Before getting into nerves and higher categories, we begin with a more practical example.

Example 5.6 (Normalizing a finite probability distribution). Consider the monads list and lott corresponding to the terminal nonsymmetric operad and the nonsymmetric probability operad respectively; they are carried by

$$
\text { list }:=\sum_{N: \mathbb{N}} y^{\underline{N}} \quad \text { and } \quad \text { lott }:=\sum_{N: \mathbb{N}, P: \Delta_{N}} y^{\underline{N}}
$$

where $\Delta_{N}$ is the set of probability distributions on $N$ elements. There is clearly a map $\alpha:$ lott $\rightarrow$ list, which forgets the probability distribution. Taking $c=y=d$, this gives a map of the form $(y, \alpha):(y, l o t t) \leftarrow(y, l i s t)$ in $\mathbf{E M}\left(\mathbb{C a t}^{\sharp}\right)$. For any polynomial monad $t$, let $\underline{t}$ denote the object $(y, t)$ in $E M\left(\mathbb{C a t}^{\sharp}\right)$.

The process of normalization gives a map $(r, v): \underline{\text { list }} \leftarrow \underline{\text { lott }}$ in $\mathbf{E M}\left(\mathbb{C a t ^ { \sharp }}\right)$, where $r:=$ $\mathbb{R}_{>0} y+1$. Indeed, it can be constructed as the composite of two maps

![](https://cdn.mathpix.com/cropped/2024_05_24_c3a33cfdeced928aa2f8g-24.jpg?height=88&width=446&top_left_y=2393&top_left_x=837)

where $y$ list is the monad of nonempty lists and $r^{\prime}:=\mathbb{R}_{>0} y$.

The map $\rho:$ list $\triangleleft(y+1) \rightarrow(y+1) \triangleleft y$ list is given by removing all the exceptions from a list and returning the result if it is nonempty and an exception otherwise. This can be understood as the functor from semigroups to monoids given by adding a fresh identity element, say $e$. Given a semigroup $G$ and list, each of whose elements is either $e$ or an element of $G$, remove all the $e$ 's and if the resulting list is empty, return $e$, otherwise return the product as defined by the semi-group structure.

The map $v^{\prime}:$ ylist $\triangleleft r^{\prime} \rightarrow r^{\prime} \triangleleft$ lott is given on positions by

$$
v\left(x_{1}, \ldots, x_{n}\right):=\left(x,\left(\frac{x_{1}}{x}, \ldots, \frac{x_{n}}{x}\right)\right), \quad \text { where } \quad x:=x_{1}+\cdots+x_{n}
$$

and on directions by identity. It is easy to check that both satisfy Eqs. (12) and (13).

The normalization map $\left(\mathbb{R}_{>0} y+1, v\right): \underline{\text { list }} \leftarrow \underline{\text { lott }}$ induces a map lott- $\mathbf{A l g}_{0} \rightarrow$ list-Alg $\mathbf{A l}_{0}$. So for example, if $C$ is a convex set and hence has a lott-algebra structure, there is an induced monoid with underlying set $C$ cone $:=\mathbb{R}_{>0} \times C+1$. Its unit is the distinguished ("cone") point $1 \in C^{\text {cone }}$, and the product $(x, c) *\left(x^{\prime}, c^{\prime}\right)$ is $\left(x+x^{\prime}, \frac{x}{x+x^{\prime}} c+\frac{x^{\prime}}{x+x^{\prime}} c^{\prime}\right)$. The notation $\frac{x}{x+x^{\prime}} c+\frac{x^{\prime}}{x+x^{\prime}} c^{\prime}$ is the use of the convex structure on $C$.

Example 5.7 (The (inert) nerve functor). The composite of the nerve functor from $\mathrm{m}$ algebras to copresheaves on $\Theta_{m}^{\mathrm{op}}$ with the forgetful functor to copresheaves on $\left(\Theta_{m}^{0}\right)^{\text {op }}$ is an algebraic familial functor given by the monad morphism $\left(\left[\begin{array}{l}m \\ m\end{array}\right], \mathrm{id}\right) \leftarrow(c, m)$

$$
\text { nerve }{ }^{0}:=\sum_{M \in\left[\begin{array}{c}
m \\
m
\end{array}\right]_{(1)}}\{M\} y^{m[M]}=\sum_{M \in m(1)}\{M\} y^{m[M]}
$$

As the target is an identity monad, there is no additional structure to specify. The need for this functor to land in copresheaves on $\left(\Theta_{m}^{0}\right)^{\text {op }}$ rather than $\Theta_{m}^{\mathrm{op}}$ comes from the requirement that the maps between the arities $m[M]$ are maps of copresheaves on $c$ rather than the corresponding free $m$-algebras; $m[M]$ is functorial from $\Theta_{m}$ only in $m$-algebras, whereas when restricted to $\Theta_{m}^{0}$ it is functorial in $c$-Set.

Example 5.8 (Category of elements of a $c$-copresheaf). For any category $c$ there is an algebraic familial functor $(g$, path $) \leftarrow(c$, id $)$ given by

$$
e l:=c+c_{*} \cong\{\mathrm{V}\} \sum_{C \in c(1)} y^{c[\mathrm{C}]}+\{\mathrm{E}\} \sum_{C \in c(1), f \in c[C]} y^{c[C]}
$$

where the source and target of $(c, f)$ are respectively $c$ and the codomain of $f$ in $c$. Given a copresheaf $X$ on $c$, the familial functor to graphs associated to $e l$ produces the graph whose vertices are all of the elements of $X$ and with an edge $v \rightarrow X_{f}(v)$ for each $v \in X_{C}$ and $f \in c[C]$.

$e l(1)$ is the underlying graph of the category $c$, so the category structure on $c$ gives it a canonical choice of path-algebra structure sending $\left(f_{1}, \ldots, f_{n}\right)$ to $f_{n} \circ \cdots \circ f_{1}$. We then need to specify for any sequence of composable morphisms $C_{0} \rightarrow C_{1} \rightarrow \cdots \rightarrow C_{n}$ in $c$ a map

$$
\operatorname{colim}\left(c\left[C_{0}\right]=c\left[C_{0}\right] \leftarrow c\left[C_{1}\right]=c\left[C_{1}\right] \leftarrow \cdots=c\left[C_{n-1}\right] \leftarrow c\left[C_{n}\right]\right) \leftarrow c\left[C_{0}\right],
$$

but the colimit on the left agrees with $c\left[C_{0}\right]$ so this map can be taken to be an isomorphism. The resulting functor from $c$-Set to categories is precisely the category of elements functor.

We will now devote our attention to formal monads in EM(Cat ${ }^{\sharp}$ ), algebraic familial monads, which act on the category of algebras for a familial monad by an algebraically familial endofunctor equipped with unit and multiplication transformations. This class of monads includes many monads on the category Cat which are common in the literature, though the requirement that the arity algebras are free excludes certain functors which would otherwise appear to be "familial."

Example 5.9 (Free symmetric monoidal category on a category). We now show how the free symmetric monoidal category monad on Cat is an algebraic familial monad on pathalgebras, modeled as a monad on ( $g$, path) in $\mathbf{E M}\left(\mathbf{C a t}^{\sharp}\right)$. The idea is that the underlying $(g, g)$-bicomodule sm will contain only the operations of a symmetric monoidal product and unit, as it is to be applied to a category which already has compositions and identities of morphisms (hence the notation $s m$ which drops the " $c$ " from $s m c$ which also encoded category structure). As in Example 3.6, for simplicity we will consider symmetric strict monoidal categories, but the construction is easily modified to general symmetric monoidal categories in a similar manner, adding in operations for every binary association and coherences between them.

The $(g, g)$-bicomodule $s m$ is defined as

$$
s m:=\{\mathrm{V}\} \sum_{N \in \mathbb{N}} y^{N}+\{\mathrm{E}\} \sum_{N \in \mathbb{N}, \sigma \in \Sigma_{N}} y^{\overrightarrow{1}+N+\overrightarrow{1}}
$$

where the requisite source and target inclusions $\underline{N} \rightarrow \overrightarrow{1}+N+\overrightarrow{1}$ send a vertex $i \in \underline{N}$ to respectively the source vertex of the $i$ th edge and the target vertex of the $\sigma(i)$ th edge.

When regarded as a familial endofunctor on graphs, the operations outputting vertices produce a new vertex (the $N$-ary tensor product) for each list of $N$ vertices, while the operations outputting edges extend the $N$-ary tensor product to edges while also adding symmetries with an edge to the tensor product of any permutation of the target vertices. When this endofunctor is applied to a category, applying the $(N, \sigma)$ operation to $N$ identity morphisms will produce the symmetry morphisms of a symmetric monoidal category, and applying the operation in general will produce tensor products of morphisms composed with symmetry morphisms. ${ }^{8}$ The equations governing these operations when applied to a category will be imposed by the monad morphism structure on $s m$.

Note that $\operatorname{sm}(1)$ is the graph with vertex set $\mathbb{N}$ and, for each vertex $N$, a loop for each $\sigma \in \Sigma_{N}$. It has a path-algebra structure $\alpha_{1}: \operatorname{path}(\operatorname{sm}(1)) \rightarrow \operatorname{sm}(1)$ corresponding to the category of finite sets of the form $\underline{N}$ and permutations with the usual identities and compositions. In particular, for $I: \vec{n} \rightarrow s m(1)$ where $I$ sends all vertices to $N \in s m_{v}(1)$ and the $i$ th edge to the permutation $\sigma_{i} \in \Sigma_{N}, \alpha_{1}(n, I)=\left(N, \sigma_{n} \circ \cdots \circ \sigma_{1}\right) \in s m_{e}(1)$.

To exhibit $s m$ as a monad morphism then requires morphisms of path-algebras

$$
\alpha_{n, I}^{\#}: \operatorname{path}(\underset{v \in \vec{n}}{\operatorname{colim}} \operatorname{sm}[I(v)]) \leftarrow \operatorname{path}\left(p\left[N, \sigma_{n} \circ \cdots \circ \sigma_{1}\right]\right)
$$
\footnotetext{
${ }^{8}$ The symmetry morphisms could be added separately as operations outputting edges with ariries $\underline{N}$, but then their composites with tensor products of morphisms would still need to be included to define the monad morphism structure.
}
for $I: \vec{n} \rightarrow \operatorname{sm}(1)$ as described above. Such a morphism amounts to a functor from path $(\overrightarrow{1}+$ $N+\overrightarrow{1})$, the disjoint union of $N$ walking arrow categories, to path $(\vec{n}+N+\vec{n})$, the disjoint union of $N$ copies of the ordinal category with $n$ adjacent generating morphisms (so $n+1$ objects). This functor the "cocomposition" functor given by sending each walking arrow to the maximal composite morphism of the corresponding ordinal. The monad morphism equations here are satisfied as $\alpha_{1, I}^{\#}$ is the identity functor on $\operatorname{path}(p[N, \sigma])$ and the composite $\operatorname{path}(\overrightarrow{1}) \rightarrow \operatorname{path}(\vec{n}) \rightarrow \operatorname{path}(\vec{m})$ is a cocomposition, where the first factor is a cocomposition functor and the second is a colimit of cocompositions.

The monad morphism structure $\alpha$ on $s m$ encodes how sm sends a path-algebra to a path-algebra by indicating how to take $n$-ary composites in the free symmetric monoidal category on a category: when composing a sequence of $n$-many $\mathrm{N}$-ary tensor products of morphisms each composed with a symmetry morphism, commute all of the symmetry morphisms to the end and compose them with the tensor products of the $N$ separate composite morphisms.

We now define a monad structure on $s m$ in $\mathbf{E M}\left(\right.$ Cat $\left.^{\sharp}\right)$, where the unit and multiplication turn out to be ordinary transformations of monad morphisms rather than requiring the generalization thereof in Definition 5.1. This is not surprising though, as it will be the case for any cartesian monad whose unit and multiplication transformations are isomorphisms on arities and therefore do not need the flexibility of being Kleisli maps rather than maps on the underlying copresheaves. The unit $\eta^{s m}: g \rightarrow s m \xrightarrow{s m \triangleleft \eta^{p a t h}} s m \triangleleft$ path picks out the operations $1 \in s m_{v}(1)$ and $(1, \mathrm{id}) \in s m_{e}(1)$, and the multiplication $\mu^{s m}: s m \triangleleft_{g} s m \rightarrow s m \xrightarrow{s m \pi^{p a t h}}$ sm $\triangleleft$ path sends $\left(N ; M_{1}, \ldots, M_{N}\right)$ to $M_{1}+\cdots+M_{N}$ and $\left((N, \sigma) ;\left(M_{1}, \sigma_{1}\right), \ldots,\left(M_{N}, \sigma_{N}\right)\right)$ to $\left(M_{1}+\cdots+M_{N}, \sum_{i} \sigma_{\sigma(i)}\right)$. It is straightforward to check that these assignments are unital and associative.

To see that this is indeed the free symmetric monoidal category monad requires the observation that to build a symmetric monoidal category from an ordinary category, it suffices to add in associative $N$-ary tensor products of all objects and morphisms and natural symmetry isomorphisms; this functor does so using the observation that any morphism is then uniquely a composite of a tensor product of morphisms with a symmetry isomorphism, as by naturality these can be commuted past each other allowing any composite of such morphisms to be factored into this form.

Example 5.10 (Free categorical algebras of an operad). The previous example can be generalized to produce a monad on ( $g$, path) for any symmetric operad $\mathcal{O}$, inspired by the construction in [Web15, Construction 3.4, Theorem 3.7] in the case of a unique color. Here the (previously singleton) set of operations outputting a vertex with arity $\underline{N}$ is $\Theta_{N}$ and the set of operations outputting an edge with arity $\overrightarrow{1}+N \cdot+\overrightarrow{1}$, source operation $O \in \mathcal{O}_{N}$, and target operation $O^{\prime} \in \mathcal{O}_{N}$ is the set of permutations $\sigma \in \Sigma_{N}$ such that $\Theta_{\sigma}(O)=O^{\prime}$. Algebras for this algebraic familial monad on Cat are categories with functorial $\mathrm{N}$-ary operations for each $O \in \mathcal{O}_{N}$ such that commutativity properties encoded in the symmetric operad $\mathcal{O}$ are weakened to symmetry isomorphisms in a category much like the relaxation from commutative monoids to symmetric monoidal categories in the previous example. Unlike Example 3.4, we no longer need to assume $\mathcal{O}$ is $\Sigma$-free in order to model it as an algebraic

![](https://cdn.mathpix.com/cropped/2024_05_24_c3a33cfdeced928aa2f8g-28.jpg?height=54&width=1472&top_left_y=323&top_left_x=348)
distributive laws," noting that they generalize distributive laws in the sense that a monad $(c, m)$ in a bicategory $\mathbb{K}$ along with a monad morphism $n:(c, m) \rightarrow(c, m)$ and 2-cells in $\mathbf{E M}(\mathbb{K})$ endowing this endomorphism with the structure of a monad amount to 2-cells in $\mathbb{K}$ of the form $m n \rightarrow n m, n n \rightarrow n m$, and $1 \rightarrow n m$ satisfying several equations. This is very nearly the data of a distributive law between monads $m, n$ in $\mathbb{K}$, but $n$ is not quite a monad in $\mathbb{R}$, but rather a "monad up to $m$ " in a suitable sense (which in Cat amounts to being an endofunctor which lifts to a monad on the category of $m$-algebras). Nevertheless, much like a distributive law this data determines the structure of a monad on the composite $n m$ whose algebras agree with algebras for the monad derived from $n$ on the category of $m$-algebras.

In $\mathbb{C a t}^{\#}$, this result demonstrates that algebras for any algebraic familial monad $n$ on a category of $m$-algebras are just as well algebras for an ordinary familial monad $n \triangleleft_{c} m$ on $c$-Set.

Example 5.11 ( $s m c$ as the composite of $s m$ and path). Applying this to the algebraic familial monad $s m$, we recover the familial monad $s m c$ on graphs (as in, the monad on $g$ in $\mathbb{C a t}^{\sharp}$ ) from Example 3.6. In particular it is straightforward to check from the definitions that $s m c=s m \triangleleft_{g} p a t h$, and as expected both $s m$ as an algebraic familial monad on path-algebras and $s m c$ as an ordinary familial monad on $g$-Set have symmetric monoidal categories as algebras. This example turns out to be an ordinary distributive law in Cat ${ }^{\sharp}$, which will generally be the case for cartesian monads such as $s m$.

\section*{References}

[ACU14] Danel Ahman, James Chapman, and Tarmo Uustalu. "When is a container a comonad?" In: Logical Methods in Computer Science 10.3 (Sept. 2014). Ed. by LarsEditor Birkedal. IssN: 1860-5974 (cit. on p. 6).

[BÃ©n+67] Jean BÃ©nabou, R Davis, A Dold, J Isbell, S MacLane, U Oberst, J -E Roos, and Jean BÃ©nabou. "Introduction to bicategories". In: Reports of the midwest category seminar. Springer. 1967, pp. 1-77 (cit. on p. 3).

[Ber02] Clemens Berger. "A cellular nerve for higher categories". In: Advances in Mathematics 169.1 (2002), pp. 118-175 (cit. on p. 2).

[BG19] John Bourke and Richard Garner. "Monads and theories". In: Advances in Mathematics 351 (2019), pp. 1024-1071 (cit. on p. 2).

[BMW12] Clemens Berger, Paul-AndrÃ© Mellies, and Mark Weber. "Monads with arities and their associated theories". In: Journal of Pure and Applied Algebra 216.8-9 (2012), pp. 2029-2048 (cit. on p. 2).

[CS10] G.S.H. Cruttwell and Michael Shulman. "A unified framework for generalized multicategories". In: Theory and Applications of Categories 24 (2010), Paper No. $21,580-655$ (cit. on p. 8).

[GH18] Richard Garner and Tom Hirschowitz. "Shapely monads and analytic functors". In: Journal of Logic and Computation 28.1 (2018), pp. $33-83$ (cit. on p. 8).

[Law04] F William Lawvere. "Functorial Semantics of Algebraic Theories and Some Algebraic Problems in the context of Functorial Semantics of Algebraic Theories". In: Reprints in Theory and Applications of Categories 5 (2004), pp. 1-121 (cit. on p. 2).

[Lei04] Tom Leinster. Higher operads, higher categories. London Mathematical Society Lecture Note Series 298. Cambridge University Press, Cambridge, 2004 (cit. on pp. $2,11,12,14)$.

[Lei08] Tom Leinster. How ILearned to Love the Nerve Construction. URL: ht tps://golem.ph.utexas . edu/cat (visited on 01/06/2008) (cit. on pp. 2, 3).

[LS02] Stephen Lack and Ross Street. "The formal theory of monads II". In: Journal of pure and applied algebra 175.1-3 (2002), pp. 243-265 (cit. on pp. 4, 20, 24, 28).

[MW07] Ieke Moerdijk and Ittay Weiss. "Dendroidal sets". In: Algebraic $\mathcal{E}$ Geometric Topology 7.3 (2007), pp. 1441-1470 (cit. on p. 2).

[Sha22] Brandon T. Shapiro. "Shape Independent Category Theory". PhD thesis. Cornell University, 2022. uRL:https://pi .math.corne1l.edu/ bts82/research/papers/thesis.pd (cit. on pp. $8,11,12,15)$.

[Shu08] Michael Shulman. "Framed bicategories and monoidal fibrations". In: Theory and Applications of Categories 20 (2008), Paper No. 18, 650-738 (cit. on pp. 5, 9).

[Spi21] David I. Spivak. Functorial aggregation. 2021. arXiv: 2111. 10968 [math. CT] (cit. on pp. $3,5,6,9)$.

[SS22] Brandon T. Shapiro and David I. Spivak. "Dynamic categories, dynamic operads: From deep learning to prediction markets". In: Electronic Proceedings in Theoretical Computer Science (2022) (cit. on p. 3).

[SS23] Brandon T. Shapiro and David I. Spivak. "Structures on Categories of Polynomials". In: arXiv (2023). eprint: 2305.00167 (cit. on pp. 3, 6, 7).

[Str72] Ross Street. "The formal theory of monads". In: Journal of pure and applied algebra 2 (1972), Paper No. 2, 149-168 (cit. on pp. 3, 20, 24).

[Web07] Mark Weber. "Familial 2-Functors and Parametric Right Adjoints". In: Theory and Applications of Categories 18 (2007), Paper No. 22, 665-732 (cit. on pp. 2, 12, $14,15,18,19)$.

[Web15] Mark Weber. âOperads as polynomial 2-monads".In: (2015). arXiv: 1412.7599 [math. CT] (cit. on pp. 14,27$)$.